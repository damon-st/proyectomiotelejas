<h2 mat-dialog-title>BIENVENIDO</h2>
<mat-dialog-content class="mat-typography">
    <mat-tab-group animationDuration="2000ms">
        <mat-tab label="INICIAR SESION">

            <br>
            <mat-progress-bar mode="indeterminate" *ngIf="isSuccefuly"></mat-progress-bar>

            <form [formGroup]="iniciarSesion"
                (ngSubmit)="loginUser(iniciarSesion.value)"
                
            >


                <div class="example-container">
                    <mat-form-field appearance="fill" class="d-block">
                      <mat-label>Correo Electronico </mat-label>
                      <input matInput placeholder="pat@example.com" formControlName="email" required>
                      <mat-error *ngIf="iniciarSesion.invalid">{{getErrorMessage()}}</mat-error>
                    </mat-form-field>


                    <mat-form-field appearance="fill" class="d-block">
                        <mat-label>Escribe tu Contraseña</mat-label>
                        <input matInput [type]="hide ? 'password' : 'text'"  formControlName="password"  required>
                        <button mat-icon-button type="button" matSuffix  (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                      </mat-form-field>

                    
                 

                  <mat-error *ngIf="codeError === 'auth/user-not-found'">NO TIENES UNA CUENTA CREADA AUN PORFAVOR CREALA</mat-error>
                  <mat-error *ngIf="codeError === 'auth/wrong-password'">La contraseña es incorrecta. Intenta Nuevamente</mat-error>

                  <button type="submit" class="btn btn-lg btn-block btn-primary" [disabled]="iniciarSesion.invalid">Iniciar Sesion</button>
                </div>
            </form>

        </mat-tab>
        <mat-tab label="CREAR CUENTA">
            <br>
            <mat-progress-bar mode="indeterminate" *ngIf="isSuccefuly"></mat-progress-bar>

            <form [formGroup]="crearCuenta" (ngSubmit)="crearUsuario(crearCuenta.value)"> 

                <div class="example-container">

                    <mat-form-field appearance="fill" class="d-block">
                        <mat-label>Nombre y Apellido</mat-label>
                        <input matInput formControlName="displayName">
                      </mat-form-field>

                    <mat-form-field appearance="fill" class="d-block">
                      <mat-label>Correo Electronico </mat-label>
                      <input matInput placeholder="pat@example.com" formControlName="email" required>
                      <mat-error *ngIf="crearCuenta.invalid">{{getErrorMessage()}}</mat-error>
                    </mat-form-field>


                    <mat-form-field appearance="fill" class="d-block">
                        <mat-label>Escribe tu Contraseña</mat-label>
                        <input matInput [type]="hide ? 'password' : 'text'"  formControlName="password"  required>
                        <button mat-icon-button matSuffix  type="button" (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                        <mat-error *ngIf="crearCuenta.invalid">{{getErrorPassword()}}</mat-error>
                      </mat-form-field>

                    
                </div>

                <mat-error *ngIf="codeError === 'auth/email-already-in-use'">El correo ya esta en uso. Intenta con otro correo</mat-error>

                <button type="submit" class="btn btn-lg btn-block btn-info" [disabled]="crearCuenta.invalid">Crear cuenta</button>

            </form>



        </mat-tab>
      </mat-tab-group>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close  [mat-dialog-close]="false">Cerrar</button>
  <!-- <button mat-button [mat-dialog-close]="true" cdkFocusInitial>Install</button> -->
</mat-dialog-actions>
