<section id="about">
  <div class="container">
    <div class="about-container wow fadeInUp" data-wow-delay="0.2s">
      <div class="section-header">
        <h3 class="section-title">FORMULARIO DE ENVIO DE SERVICIOS</h3>
        <p class="section-description">
          Llena tus datos con la información solicitada
          te explicamos como funciona el servicio
        </p>
      </div>
      <h3 class="section-title">Escribenos ya.</h3>
      <div class="row">
        <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
          <div class="box">
              <div>
                <a
                  href="https://wa.me/593995901335?text=Hola%20necesito%20una%20recarga%20"
                  target="_blank"
                >
                  <i class="fa fa-whatsapp fa-5x"></i>
                  <p>0995901335</p>
                </a>
              </div>
          </div>
        </div>
        <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
          <div class="box">
              <div>
                <a
                  href="https://wa.me/593999913645?text=Hola%20necesito%20una%20recarga%20"
                  target="_blank"
                >
                  <i class="fa fa-whatsapp fa-5x"></i>
                  <p>0999913645</p>
                </a>
              </div>
          </div>
        </div>
      </div>

 

      <div class="row row-cols-1 row-cols-md-2 mt-3">
        <div class="col mb-4">
          <div class="card">
            <img src="assets/img/Movistar.jpg" class="card-img-top" alt="..." />
            <div class="card-body">
              <h5 class="card-title text-center">Recargas Movistar</h5>
              <p class="card-text">
                Obaserva los combos que te ofrece la operadora.
              </p>
            </div>
            <div class="card-footer">
              <button
                class="btn btn-lg btn-primary btn-block"
                (click)="openDialogRecargas('Movi')"
              >
                <i class="fa fa-eye"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="col mb-4">
          <div class="card">
            <img src="assets/img/Claro.png" class="card-img-top" alt="..." />
            <div class="card-body">
              <h5 class="card-title text-center">Recargas Claro</h5>
              <p class="card-text">
                Obaserva los combos que te ofrece la operadora.
              </p>
            </div>
            <div class="card-footer">
              <button
                class="btn btn-lg btn-danger btn-block"
                (click)="openDialogRecargas('Claro')"
              >
                <i class="fa fa-eye"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="col mb-4">
          <div class="card">
            <img src="assets/img/Cnt.png" class="card-img-top" alt="..." />
            <div class="card-body">
              <h5 class="card-title">Recargas Cnt</h5>
              <p class="card-text">
                Obaserva los combos que te ofrece la operadora.
              </p>
            </div>
            <div class="card-footer">
              <button
                class="btn btn-lg btn-primary btn-block"
                (click)="openDialogRecargas('Cnt')"
              >
                <i class="fa fa-eye"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="col mb-4">
          <div class="card">
            <img src="assets/img/Tuenti.png" class="card-img-top" alt="..." />
            <div class="card-body">
              <h5 class="card-title">Recargas Tuenti</h5>
              <p class="card-text">
                Observa los combos que te ofrece la operadora..
              </p>
            </div>
            <div class="card-footer">
              <button
                class="btn btn-lg btn-danger btn-block"
                (click)="openDialogRecargas('Tuenti')"
              >
                <i class="fa fa-eye"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="example-container">
        <button
          *ngIf="isLogin"
          class="btn btn-lg btn-block btn-danger"
          (click)="logout()"
        >
          CERRAR SESIÓN
        </button>
        <button
          *ngIf="!isLogin"
          class="btn btn-lg btn-block btn-primary"
          (click)="openDialog()"
        >
          INICIAR SESIÓN
        </button>

        <br />
        <mat-progress-bar *ngIf="isSend" mode="indeterminate"></mat-progress-bar>
        <form
          *ngIf="isLogin"
          [formGroup]="controlGroup"
          (ngSubmit)="enviarFormulario(controlGroup.value)"
        >
          <mat-form-field appearance="fill" class="d-block">
            <mat-label>Nombre y Apellido</mat-label>
            <input
              matInput
              placeholder="escribe aqui"
              formControlName="nombre"
              required
            />
          </mat-form-field>

          <mat-form-field appearance="fill" class="d-block">
            <mat-label>Escribe tu correo electrónico</mat-label>
            <input
              matInput
              placeholder="pat@example.com"
              formControlName="email"
              required
            />
            <mat-error *ngIf="controlGroup.invalid">{{
              getErrorMessage()
            }}</mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill" class="d-block">
            <mat-label>Escribe tu número telefónico (opcional)</mat-label>
            <input
              matInput
              type="number"
              placeholder="0954752266"
              formControlName="phone"
            />
            <mat-error *ngIf="controlGroup.invalid">{{
              getErrorMessage()
            }}</mat-error>
          </mat-form-field>


          <mat-form-field appearance="fill" class="d-block">
            <mat-label>Escribe la razón de tu contacto.</mat-label>
            <textarea
              matInput
              placeholder="Escribe aqui"
              formControlName="texto"
              required
            ></textarea>
          </mat-form-field>

          <div class="container-input-file">
            <label class="custom-file">
              <input
                type="file"
                (change)="nandleImage($event)"
                accept=".png, .jpg, .jpeg,.pdf,.docx,.xlxs"
                [disabled]="controlGroup.invalid"
              />
              <!-- <mat-icon>cloud_upload</mat-icon><span>ESCOJE EL ARCHIVO</span> -->
            </label>
          </div>

          <div class="progress">
            <div
              class="progress-bar progress-bar-striped bg-success"
              role="progressbar"
              [style.width]="porcentage + '%'"
            ></div>
          </div>

          <br />
          <input #imageFiles type="hidden" [value]="urlImage | async" />

          

          <button
            type="submit"
            mat-raised-button
            color="primary"
            [disabled]="controlGroup.invalid"
          >
            Enviar correo
          </button>
        </form>
      </div>
    </div>
  </div>



  <br>
  <div class="container wow fadeIn">
    <div class="section-header">
      <h3 class="section-title">FORMULARIO PARA LA COMPRA DE UN CHIP</h3>
      <p class="section-description">Inicia sesión y llena el formulario para la compra de tu nuevo chip.</p>
    </div>



    <div id="carouselExampleFade" class="carousel slide carousel-fade" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="https://firebasestorage.googleapis.com/v0/b/booksotore-3c766.appspot.com/o/movi.jpg?alt=media&token=0de405e0-80f1-4c5d-93f5-09c66db3525f" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img src="https://firebasestorage.googleapis.com/v0/b/booksotore-3c766.appspot.com/o/c.jpg?alt=media&token=c7f9909c-6a40-4545-a6d3-9c72a8e523bb" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img src="https://firebasestorage.googleapis.com/v0/b/booksotore-3c766.appspot.com/o/t.jpg?alt=media&token=b4effad1-47c9-49fd-bc5e-44e5845899b0" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img src="https://firebasestorage.googleapis.com/v0/b/booksotore-3c766.appspot.com/o/cnt.jpg?alt=media&token=1b4f43ad-ddc5-424d-8a2d-0227ff0b6918" class="d-block w-100" alt="...">
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleFade" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleFade" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>



    <br>

    <form [formGroup]="controlChip" *ngIf="isLogin" (ngSubmit)="createToken(controlChip.value)" >

      <div class="example-container">
        <mat-form-field appearance="fill" class="d-block">
          <mat-label>Nombre y Apellido</mat-label>
          <input matInput formControlName="name" required>
        </mat-form-field>
        <br>
        <mat-form-field appearance="fill" class="d-block">
          <mat-label>Dirección de domicilio</mat-label>
          <input matInput formControlName="address" required>
          <mat-icon matSuffix>domain</mat-icon>
        </mat-form-field>
        <br>

        <mat-form-field appearance="fill" class="d-block">
          <mat-label>Escribe tu correo electrónico</mat-label>
          <input
            matInput
            placeholder="pat@example.com"
            formControlName="email"
            required
          />
          <mat-error *ngIf="controlGroup.invalid">{{
            getErrorMessage()
          }}</mat-error>
        </mat-form-field>

        <br>
        <mat-form-field appearance="fill" class="d-block">
          <mat-label>Número de contacto</mat-label>
          <input matInput type="number" class="example-right-align"  formControlName="phone" required>
          <mat-icon matSuffix>phone</mat-icon>
        </mat-form-field>
      </div>
      
      <br>

      <mat-form-field appearance="fill" class="d-block">
        <mat-label>Selecciona el chip que deseas</mat-label>
        <mat-select formControlName="chip" required>
          <mat-option value="claro" >CLARO $4.00</mat-option>
          <mat-option value="movistar">MOVISTAR $3.00</mat-option>
          <mat-option value="tuenti" >TUENTI $4.00</mat-option>
          <mat-option value="cnt"  >CNT $4.00</mat-option>
        </mat-select>
      </mat-form-field>

      <br>
      <div class="form-group">
        <p class="form-text">PorFavor llena los datos de la targeta de crédito.</p>
      </div>


      <ngx-stripe-card
      required
    [options]="cardOptions"
    [elementsOptions]="elementsOptions"
  ></ngx-stripe-card>
      <br>


      <ngx-recaptcha2
            #captchaElem
            [siteKey]="siteKey"
            formControlName="recaptcha"
          >
          </ngx-recaptcha2>

          <br>
          <mat-progress-bar *ngIf="isCheckout" mode="indeterminate"></mat-progress-bar>

         

  <button type="submit" [disabled]="controlChip.invalid || isCheckout" class="btn btn-lg btn-primary btn-block mt-4">
    COMPRAR CHIP
  </button>

    </form>


  </div>



</section>
